- shell:
    - [git submodule update --init --recursive, Installing submodules]


- defaults:
    link:
      relink: true
      force: true
      create: true

- link:
    ~/.config/sublime-text/Packages/User:
        path: editors/sublime/User
    ~/.config/sublime-text/Packages/C++:
        path: editors/sublime/C++
    ~/.config/sublime-text/Packages/Python:
        path: editors/sublime/Python
    ~/.config/sublime-text/Packages/CustomStatusBar:
        path: editors/sublime/CustomStatusBar
    ~/.config/Code/User/settings.json:
        path: editors/vscode/settings.json
    ~/.config/Code/User/keybindings.json:
        path: editors/vscode/keybindings.json
    ~/.local/share/gnome-shell/extensions:
        path: gnome/extensions
    ~/.config/fusuma/config.yml:
        path: dotfiles/fusuma.yml
    ~/.alacritty.yml:
        path: dotfiles/alacritty.yml
    ~/.config/autokey/data:
        path: autokey
    ~/.tmux/tmux-go:
        path: submodules/tmux-go
    ~/.local/share/kupfer/plugins/tmux_go.py:
        path: submodules/tmux-go/src/launchers/kupfer.py
    ~/.config/kupfer/kupfer.cfg:
        path: dotfiles/kupfer.cfg
    ~/.taskrc:
        path: dotfiles/taskrc
    ~/.taskwarrior_shortcuts:
        path: taskwarrior_shortcuts
    ~/.xmodmaprc:
        path: dotfiles/xmodmaprc

- create:
    - ~/projects

- shell:
    - [dconf dump / > old_dconf, Backup for gnome settings]
    - [dconf load / < gnome/config.dconf, Setting gnome settings]
    - [sh install_scripts/install_sublime.sh, Installing Sublime Text/Merge]
    - [sh install_scripts/install_vscode.sh, Installing vscode]
    - [sh editors/vscode/install_extensions.sh, Installing vscode extensions]
    - [sh install_scripts/install_fusuma.sh, Installing Fusuma]
    - [sh install_scripts/install_taskwarrior.sh, Installing Task Warrior]
