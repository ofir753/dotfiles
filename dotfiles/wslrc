alias toclip='clip.exe'

# Workaround for new tab on home folder, Save last working dir to open new tab to the last working dir
# cd $(cat ~/.last_working_dir)
# function cd {
#     builtin cd "$@" && pwd > ~/.last_working_dir
# }

# Windows programs
function run_windows_program {
    program=$1
    args=("${@:2}")
    for i in "${!args[@]}"
    do
        if [[ ${args[$i]} = -* ]]
        then
            true # Igonre flags
        else
            args[$i]=$(wslpath -w ${args[$i]})
        fi
    done
    eval $program \${args[*]}
}

function explorer {
    explorer.exe $(wslpath -w $1)
}

function chrome {
    run_windows_program '"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"' $@
}

function meld {
    run_windows_program '"/mnt/c/Program Files (x86)/Meld/Meld.exe"' $@
}

export DISPLAY=$(cat /etc/resolv.conf | grep nameserver | awk '{print $2; exit;}'):0.0
